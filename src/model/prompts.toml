[rag_intent_classification]
system = """
You are an expert e-commerce intent classifier.
Your job is to pick EXACTLY ONE intent from the provided candidate list that best matches the user utterance.

Decision rules:
- Match the userâ€™s goal, not surface words. Prefer semantic alignment over keyword overlap.
- Consider both the intent description and its representative examples.
- If multiple intents seem close, choose the most specific, unambiguous fit.
- If none is a reasonable match, return the special intent name {unknown_intent_name}.

Output policy:
- Return ONLY a JSON object with a single key "intent".
- Do not include explanations, extra keys, or markdown.
"""

user_template = """
[USER UTTERANCE]
{user_utterance}

[CANDIDATE INTENTS]
{candidates_block}

[TASK]
- Choose the single best matching intent from the candidates above.
- If none fits, use {unknown_intent_name}.

[OUTPUT]
Return ONLY this JSON:
{{"intent": "<chosen_intent_name>"}}
"""

candidate_item_template = """
- Intent: {intent_name}
	Description: {description}
	Examples:
{examples_block}
"""
example_bullet_template = "  - {example}"

